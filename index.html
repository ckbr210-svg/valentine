<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<style>
body {
    margin: 0;
    overflow: hidden;
    font-family: 'Pacifico', cursive;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
}

#card {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-size: 34px;
    color: #ff4d6d;
    z-index: 10;
}

button {
    position: absolute;
    padding: 14px 28px;
    font-size: 20px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
}

#yes {
    background: #ff4d6d;
    color: white;
}

#no {
    background: #ccc;
}

.heart, .confetti {
    position: fixed;
    font-size: 22px;
    animation: float 4s linear forwards;
}

@keyframes float {
    from { transform: translateY(100vh); opacity: 1; }
    to { transform: translateY(-100px); opacity: 0; }
}
</style>
</head>

<body>

<div id="card">XYZ, will you be my Valentine? üíò</div>

<button id="yes">Yes ‚ù§Ô∏è</button>
<button id="no">No üíî</button>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const card = document.getElementById("card");

let attempts = 0;
let unlocked = false;
let fakeUnlocked = false;

const sound = new Audio("https://www.myinstants.com/media/sounds/pop.mp3");

// ---------- SAFE RANDOM POSITION ----------
function place(btn) {
    const r = card.getBoundingClientRect();
    let x, y, ok;
    do {
        ok = true;
        x = Math.random() * (window.innerWidth - btn.offsetWidth);
        y = Math.random() * (window.innerHeight - btn.offsetHeight);
        if (
            x < r.right &&
            x + btn.offsetWidth > r.left &&
            y < r.bottom &&
            y + btn.offsetHeight > r.top
        ) ok = false;
    } while (!ok);

    btn.style.left = x + "px";
    btn.style.top = y + "px";
}

place(yesBtn);
place(noBtn);

// ---------- NO CHAOS ----------
noBtn.onmouseenter = noBtn.ontouchstart = () => {
    place(noBtn);
    noBtn.style.transform =
        `scale(${0.6 + Math.random()*0.4}) rotate(${Math.random()*20-10}deg)`;
};

// ---------- YES TEASING ----------
yesBtn.onmouseenter = yesBtn.ontouchstart = () => {
    if (unlocked) return;

    attempts++;
    sound.play();
    if (navigator.vibrate) navigator.vibrate(80);

    // FAKE UNLOCK üòà
    if (attempts === 8 && !fakeUnlocked) {
        fakeUnlocked = true;
        yesBtn.innerText = "Yes ‚ù§Ô∏è";
        yesBtn.style.transform = "scale(1.3)";
        setTimeout(() => place(yesBtn), 600);
        return;
    }

    place(yesBtn);
    yesBtn.style.transform = `scale(${1 + attempts*0.07})`;
    yesBtn.style.boxShadow = `0 0 ${attempts*4}px rgba(255,77,109,.7)`;

    if (attempts >= 10) unlockYes();
};

function unlockYes() {
    unlocked = true;
    yesBtn.innerText = "YES üíñ";
    yesBtn.style.transform = "scale(1.3)";
    yesBtn.style.boxShadow = "0 0 30px rgba(255,77,109,1)";
}

// ---------- BLOCK EARLY CLICKS ----------
yesBtn.onclick = (e) => {
    if (!unlocked) {
        e.preventDefault();
        yesBtn.innerText = "Not yet üòú";
        return;
    }
    celebration();
};

// ---------- CELEBRATION ----------
function celebration() {
    document.body.innerHTML = `
    <div style="
        height:100vh;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        text-align:center;
        background:linear-gradient(135deg,#ff9a9e,#fad0c4);
        font-size:32px;
        color:#ff4d6d;">
        You said YES üíñü•∞<br><br>
        <button id="letterBtn" style="
            margin-top:20px;
            padding:14px 26px;
            font-size:20px;
            border:none;
            border-radius:30px;
            background:#ff4d6d;
            color:white;">
            Read My Letter üíå
        </button>
    </div>
    `;

    startHearts();
    startConfetti();

    document.getElementById("letterBtn").onclick = showLetter;
}

// ---------- LETTER ----------
function showLetter() {
    document.body.innerHTML = `
    <div style="
        padding:40px;
        font-size:26px;
        line-height:1.6;
        color:#ff4d6d;
        background:#fff5f7;
        height:100vh;">
        Dear You ‚ù§Ô∏è,<br><br>
        I may not always say what I feel out loud,
        but every little thing about you makes my world brighter.
        Your smile, your presence, your existence ‚Äî
        it all means more to me than I can explain.<br><br>
        This page, this chaos, this silly game ‚Äî
        it‚Äôs just a tiny reflection of how hard I fell for you.
        And I‚Äôd choose you, every single time üíñ<br><br>
        Yours,
        <br>‚ú® Me
    </div>
    `;
}

// ---------- HEARTS + CONFETTI ----------
function startHearts() {
    for (let i=0;i<40;i++) setTimeout(()=>spawn("‚ù§Ô∏è","heart"),i*120);
}
function startConfetti() {
    for (let i=0;i<40;i++) setTimeout(()=>spawn("üéä","confetti"),i*100);
}
function spawn(char, cls) {
    const d = document.createElement("div");
    d.className = cls;
    d.innerText = char;
    d.style.left = Math.random()*window.innerWidth + "px";
    d.style.animationDuration = 3 + Math.random()*2 + "s";
    document.body.appendChild(d);
    setTimeout(()=>d.remove(),5000);
}
</script>
</body>
</html>
